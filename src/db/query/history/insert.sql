INSERT INTO history (
	trade_id,
	create_time,
	price,
	price_target,
	state,
	instrument,
	units,
	unrealized_pl,
	event_open_id,
	trend_1,
	trend_2,
	trend_3,
	trend_4,
	trend_cal,
	judge_1,
	judge_2,
	rule_1,
	rule_2,
	rule_3,
	rule_4,
	rule_5,
	rule_6,
	resistance_high,
	resistance_low,
	transaction_id
) 
SELECT 
	%(trade_id)s,
	'%(create_time)s',
	%(price)s,
	%(price_target)s,
	'%(state)s',
	'%(instrument)s',
	%(units)s,
	%(unrealized_pl)s,
	%(event_open_id)s,
	%(trend_1)s,
	%(trend_2)s,
	%(trend_3)s,
	%(trend_4)s,
	%(trend_cal)s,
	%(judge_1)s,
	%(judge_2)s,
	%(rule_1)s,
	%(rule_2)s,
	%(rule_3)s,
	%(rule_4)s,
	%(rule_5)s,
	%(rule_6)s,
	%(resistance_high)s,
	%(resistance_low)s,
	%(transaction_id)s

WHERE NOT EXISTS (
	SELECT trade_id FROM history WHERE trade_id = %(trade_id)s
);
